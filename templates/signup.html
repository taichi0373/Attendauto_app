{% extends 'base.html' %}

{% block title %}
新規登録
{% endblock %}

{% block content %}
<div class="container">

  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class=flashes>
      {% for category, message in messages %}
      <div class="alert alert-{{ category }} mt-4" role="alert">
        <li class="list-unstyled">{{ message }}</li>
      </div>
    {% endfor %}
    </ul>
  {% endif %}
  {% endwith %}

  <div class="row">
    <div class="col-md6 offset-md-3">
      <main class="form-signin text-center">
        <form method="POST" class="w-50 p-3">
          {{ form.hidden_tag() }} <!-- csrfトークンを追加 -->

          <h1 class="h3 mb-3 fw-normal">新規登録</h1>

          <div class="row mb-3">
            <label for="student_id" class="col-sm-2 col-form-label">学籍番号</label>
            {{ form.student_id(class="form-control") }}

            {% if form.student_id.errors %}
            <div class="alert alert-danger" role="alert">
                {{ form.student_id.errors[0] }}
            </div>
            {% endif %}
          </div>

          <div class="row mb-3">
            <label for="username" class="col-sm-2 col-form-label">ユーザー名</label>
            {{ form.username(class="form-control") }}

          </div>

          <div class="row mb-3">
            <label for="password" class="col-sm-2 col-form-label">パスワード</label>
            {{ form.password(class="form-control") }}

            {% if form.password.errors %}
            <div class="alert alert-danger" role="alert">
                {{ form.password.errors[0] }}
            </div>
            {% endif %}
          </div>
          
          <div class="row mb-3">
            <label for="confirm" class="col-sm-2 col-form-label">パスワード（再確認）</label>
            {{ form.confirm(class="form-control") }}
            
            {% if form.confirm.errors %}
            <div class="alert alert-danger" role="alert">
                {{ form.confirm.errors[0] }}
            </div>
            {% endif %}
          </div>
          {{ form.submit(class="btn btn-primary") }}
        </form>
      </main>
    </div>
  </div>
</div>
{% endblock %}



 